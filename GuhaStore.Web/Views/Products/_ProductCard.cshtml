@model GuhaStore.Core.Entities.Product
<div class="col-md-3 col-sm-6">
    <div class="card h-100">
        <a asp-controller="Products" asp-action="Details" asp-route-id="@Model.ProductId" class="text-decoration-none">
            <img src="~/uploads/products/@Model.ProductImage" class="card-img-top" alt="@Model.ProductName" style="height: 200px; object-fit: cover;" />
        </a>
        <div class="card-body d-flex flex-column">
            <h6 class="card-title">@Model.ProductName</h6>
            <div class="mt-auto">
                @if (Model.ProductSale > 0)
                {
                    <div class="text-decoration-line-through text-muted small">@Model.ProductPrice.ToString("N0") ₫</div>
                    <div class="fw-bold text-danger">@((Model.ProductPrice - (Model.ProductPrice * Model.ProductSale / 100)).ToString("N0")) ₫</div>
                    <span class="badge bg-danger">-@Model.ProductSale%</span>
                }
                else
                {
                    <div class="fw-bold">@Model.ProductPrice.ToString("N0") ₫</div>
                }
            </div>
            <form asp-controller="Cart" asp-action="AddToCart" method="post" class="mt-2">
                <input type="hidden" name="productId" value="@Model.ProductId" />
                <input type="hidden" name="quantity" value="1" />
                <button type="submit" class="btn btn-primary btn-sm w-100">Thêm vào giỏ</button>
            </form>
        </div>
    </div>
</div>

